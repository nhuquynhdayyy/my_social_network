<!-- posts/templates/posts/_post_interactive_section.html -->

<!-- Pháº§n Reaction -->
<hr>
<!-- VÃ¹ng hiá»ƒn thá»‹ thá»‘ng kÃª (sá»‘ lÆ°á»£ng vÃ  icon) -->
<div class="d-flex justify-content-between align-items-center mb-2">
    <div id="reaction-stats-{{ post.id }}" class="d-flex align-items-center" style="font-size: 0.9rem;">
        {% with stats=post.get_reaction_stats %}
            {% if stats %}
                <div class="me-2">
                    {% if 'LIKE' in stats %}<span>ğŸ‘</span>{% endif %}
                    {% if 'LOVE' in stats %}<span>â¤ï¸</span>{% endif %}
                    {% if 'HAHA' in stats %}<span>ğŸ˜‚</span>{% endif %}
                    {% if 'WOW' in stats %}<span>ğŸ˜®</span>{% endif %}
                    {% if 'SAD' in stats %}<span>ğŸ˜¢</span>{% endif %}
                    {% if 'ANGRY' in stats %}<span>ğŸ˜¡</span>{% endif %}
                </div>
                <span id="reactions-count-{{ post.id }}">{{ post.reactions.count }}</span>
            {% else %}
                <span id="reactions-count-{{ post.id }}" class="text-muted">ChÆ°a cÃ³ cáº£m xÃºc</span>
            {% endif %}
        {% endwith %}
    </div>
</div>
<!-- VÃ¹ng cÃ¡c nÃºt báº¥m reaction -->
<div class="reaction-buttons-container border-top border-bottom py-1">
    <div class="d-flex justify-content-around">
        <button class="btn btn-light reaction-btn flex-fill" data-post-id="{{ post.id }}" data-reaction-type="LIKE">ğŸ‘ ThÃ­ch</button>
        <button class="btn btn-light reaction-btn flex-fill" data-post-id="{{ post.id }}" data-reaction-type="LOVE">â¤ï¸ YÃªu thÃ­ch</button>
        <button class="btn btn-light reaction-btn flex-fill" data-post-id="{{ post.id }}" data-reaction-type="HAHA">ğŸ˜‚ Haha</button>
        <button class="btn btn-light reaction-btn flex-fill" data-post-id="{{ post.id }}" data-reaction-type="WOW">ğŸ˜® Wow</button>
        <button class="btn btn-light reaction-btn flex-fill" data-post-id="{{ post.id }}" data-reaction-type="SAD">ğŸ˜¢ Buá»“n</button>
        <button class="btn btn-light reaction-btn flex-fill" data-post-id="{{ post.id }}" data-reaction-type="ANGRY">ğŸ˜¡ Pháº«n ná»™</button>
    </div>
</div>
<!-- Káº¿t thÃºc pháº§n Reaction -->


<!-- Pháº§n BÃ¬nh luáº­n -->
<div class="comments-section mt-3" id="comments-section-{{ post.id }}">
    <!-- Danh sÃ¡ch cÃ¡c bÃ¬nh luáº­n Ä‘Ã£ cÃ³ -->
    <div class="comment-list">
        {% for comment in post.comments.all %}
            {% include 'posts/_single_comment.html' %}
        {% endfor %}
    </div>
    
    <!-- Form thÃªm bÃ¬nh luáº­n má»›i -->
    {% if user.is_authenticated %}
        <form class="comment-form d-flex mt-2" method="POST" action="{% url 'add_comment' post_id=post.id %}">
            {% csrf_token %}
            <input type="text" name="content" class="form-control me-2" placeholder="Viáº¿t bÃ¬nh luáº­n..." autocomplete="off">
            <button type="submit" class="btn btn-primary btn-sm">Gá»­i</button>
        </form>
    {% endif %}
</div>
<!-- Káº¿t thÃºc pháº§n BÃ¬nh luáº­n -->